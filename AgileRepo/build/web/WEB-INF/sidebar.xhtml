<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:po="http://primefaces.org/omega">
    <h:form id="menuform">
        <div class="sidebar">
            <div class="nano">
                <div class="nano-content sidebar-scroll-content">
                    <div class="logo">
                        <p:graphicImage name="images/logoCCI.png" library="omega-layout" width="50" />
                        <p:graphicImage name="images/AgilRepo.png" library="omega-layout" width="150" />
                    </div>

                    <div class="profile">
                        <center>
                            <div style="width: 50px;height: 50px;border-radius:50%;background-size: contain;background-repeat: no-repeat" id="profileP" ></div>                            
                        </center>

                        <!--<p:graphicImage id="profileP" name="images/logoCCI.png" library="omega-layout" width="50" />-->
                        <a id="profile-button" href="#">
                            <span class="username" id="txtUsername"></span>
                            <i class="fa fa-fw fa-cog"></i>
                        </a>
                        <ul>
                
                            <li><a id="lkSignOut"><i class="fa fa-fw fa-sign-out"></i><span>Cerrar Sesión</span></a></li>
                            <a href="misc.xhtml"></a>
                        </ul>
                    </div>

                    <div class="menu">
                        <po:menu>
                            <p:submenu label="Agendas" icon="fa fa-th-list" expanded="false" >
                                <p:menuitem  id="om_dashboard" value="Mis Agenda" icon="fa fa-user" outcome="/dashboard"/>    
                                <p:menuitem id="om_OtherDashboard" value="Otras Agendas" icon="fa fa-users" outcome="/eventosGlobal"/>    
                            </p:submenu>
                            <p:menuitem id="om_users" value="Próximamente" icon="fa fa-tasks" outcome="/comingSoon"/>
                            <p:menuitem id="om_publicEventos" value="Eventos" icon="fa fa-calendar" outcome="/dashEventosCreados"/>
                        </po:menu>
                    </div>
                </div>
            </div>
        </div>
    </h:form>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-analytics.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>
    <h:outputScript name="js/fireInit.js" library="omega-layout"></h:outputScript>
    <h:outputScript name="js/fireProfile.js" library="omega-layout"></h:outputScript>
    <script type="text/javascript">
        window.onload = ini;
        var lkLog
        Out;
        var userloggued;
        var auth;
        function ini() {
            lkLogOut = document.getElementById('lkSignOut');
            lkLogOut.addEventListener('click', logOut, false);
        }

        function logOut(event) {
            firebase.auth().signOut().then(function () {
                console.log('WTF');
                window.location.assign('faces/login.xhtml');
            }).catch(function (error) {
                console.error(error);
            });
        }

    </script>
</ui:composition>
