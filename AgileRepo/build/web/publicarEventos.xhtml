<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>

        <ui:composition template="./WEB-INF/templateEvtPublic.xhtml">
            <ui:define name="title">Publica tus eventos</ui:define>
            <ui:define name="head">

                <f:metadata>
                    <f:viewAction action="#{wizardController.llenarCombo()}" />
                </f:metadata>


            </ui:define>

            <ui:define name="content">
                <script type="text/javascript">
                    //window.onload = ini;
                    //function ini() {
                    //    let btnNext = document.getElementById('j_idt32:j_idt33_next');
                    //    let secondSpan = btnNext.children[1];
                    //    secondSpan.innerHTML ='Siguiente';
                    // }
                </script>


                <script src="https://maps.googleapis.com/maps/api/js? key=AIzaSyDyo1Ab1cAQY4WKk5YwXXtfh1r4ue37drk;libraries=drawing" ></script>

                <script type="text/javascript">
                    PrimeFaces.locales['es'] = {
                        closeText: 'Cerrar',
                        prevText: 'Anterior',
                        nextText: 'Siguiente',
                        monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                        monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                        dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                        dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
                        weekHeader: 'Semana',
                        firstDay: 1,
                        isRTL: false,
                        showMonthAfterYear: false,
                        yearSuffix: '',
                        timeOnlyTitle: 'Sólo hora',
                        timeText: 'Tiempo',
                        hourText: 'Hora',
                        minuteText: 'Minuto',
                        secondText: 'Segundo',
                        currentText: 'Fecha actual',
                        ampm: false,
                        month: 'Mes',
                        week: 'Semana',
                        day: 'Día',
                        allDayText: 'Todo el día'
                    };
                    PrimeFaces.locales ['de'] = {
                        closeText: 'Schließen',
                        prevText: 'Zurück',
                        nextText: 'Weiter',
                        monthNames: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
                        monthNamesShort: ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
                        dayNames: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
                        dayNamesShort: ['Son', 'Mon', 'Die', 'Mit', 'Don', 'Fre', 'Sam'],
                        dayNamesMin: ['S', 'M', 'D', 'M ', 'D', 'F ', 'S'],
                        weekHeader: 'Woche',
                        firstDay: 1,
                        isRTL: false,
                        showMonthAfterYear: false,
                        yearSuffix: '',
                        timeOnlyTitle: 'Nur Zeit',
                        timeText: 'Zeit',
                        hourText: 'Stunde',
                        minuteText: 'Minute',
                        secondText: 'Sekunde',
                        currentText: 'Aktuelles Datum',
                        ampm: false,
                        month: 'Monat',
                        week: 'Woche',
                        day: 'Tag',
                        allDayText: 'Ganzer Tag'
                    };
                </script>

                <script type="text/javascript">
                    //<![CDATA[
                    function dateTemplateFunc(date) {
                        return '<span style="background-color:' + ((date.day < 21 && date.day > 10) ? '#81C784' : 'inherit') + ';border-radius:50%;padding: .25em;width: 1.75em; height:1.75em; display:block;">' + date.day + '</span>';
                    }
                    //]]>
                </script>


                <script type="text/javascript">
                    var currentMarker = null;

                    function handlePointClick(event) {
                        if (currentMarker === null) {
                            document.getElementById('lat').value = event.latLng.lat();
                            document.getElementById('lng').value = event.latLng.lng();


                            currentMarker = new google.maps.Marker({
                                position: new google.maps.LatLng(event.latLng.lat(), event.latLng.lng())
                            });

                            PF('map').addOverlay(currentMarker);

                            PF('dlg').show();
                        }
                    }

                    function markerAddComplete() {
                        var title = document.getElementById('title');
                        currentMarker.setTitle(title.value);
                        title.value = "";

                        currentMarker = null;
                        PF('dlg').hide();
                    }

                    function cancel() {
                        PF('dlg').hide();
                        currentMarker.setMap(null);
                        currentMarker = null;

                        return false;
                    }
                </script>


                <center>    
                    <h:form style="width: 90%;height: 100%;padding: 30px">
                        <p:wizard widgetVar="wPublicacion" style="width: 100%;height: 100%;margin-top: 10px !important;" >
                           
                            <p:tab id="ubi-hora" title=" Ubicación y Horario"  >
                              
                              <h:form id="ubiHorasFrm"  >
                                
                               <p:panel id="Todo" widgetVar="todoW" style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">   
                                 
                                <p:panel id="Nombre" header="Sección de Nombre"  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff" >
                                    <h3>Ingresa un nombre para identificar la configuración del día:</h3>
                                    <br></br>
                                    <br></br>
                                    <p:inputTextarea id="txtNombre" value="#{wizardController.nombre}" rows="6" style="with:700px;height:5px;" cols="33" />
                                    <br></br>
                                    <br></br>
                                </p:panel>
                                <p:panel id="Ubicacion" header="Sección de Ubicaciones"  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff" >

                                    <br></br>
                                    <br></br>

                                    <p:panel id="ubi"  style="display:block;border:  #03A8E4"  header="Ubicación Física" toggleable="true" collapsed="true" >

                                        <h:outputText  value="Ubicación del evento" style="font-size: xx-small;font-weight: bold; align-items: center "></h:outputText> 
                                        <br></br>
                                        <br></br>
                                        <p:growl id="messages" showDetail="true" />
                                        <p:gmap id="gmap" center="9.9328313,-84.0456637,17" zoom="15" type="ROADMAP" style="width:100%;height:400px"
                                                model="#{addMarkersView.emptyModel}" onPointClick="handlePointClick(event);" widgetVar="map" />

                                        <br></br>
                                        <br></br>

                                        <h3>Digite la direccion del evento:</h3>
                                        <p:inputTextarea id="txtDir" value="#{wizardController.ubi}" rows="5" cols="30" counter="display" maxlength="10" counterTemplate="{0} carácteres restante." autoResize="false" style=" width: 600px; height: 80px;" />
                                        <br/>
                                        <h:outputText id="display" />

                                    </p:panel>

                                    <br></br>
                                    <br></br>

                                    <p:panel id="link" widgetVar="pnlLink"  style="display:block;border:  #03A8E4"  header="Link del Evento" toggleable="true" collapsed="true">

                                        <h3>Digita el link al evento:</h3>
                                        <p:inputTextarea id="txtLink" value="#{wizardController.link}" rows="6" cols="33" style=" width: 400px; height: 80px;"  />   <p:graphicImage name="images/internet-png-icon-6.png" library="omega-layout" style=" height:110px; width: 100px; margin-left: 315px; " width="80px" height="80px"  />

                                    </p:panel>


                                    <br></br>
                                    <br></br>


                                </p:panel>

                                <p:panel id="Hora" header="Sección de Horario"  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">

                                    <br></br>
                                    <br></br>


                                    <div class="ui-g ui-fluid">
                                        <div class="ui-g-12 ui-md-8" style="border:1px solid lightslategrey ; width: 50%"  >
                                            <br></br>
                                            <br></br>
                                            <p:outputLabel value="Zona Horaria:" />
                                            <br></br>
                                            <br></br>
                                            <h:selectOneMenu id="comboZonas" value="#{wizardController.horario.horarioStr}"   style=" width: 320px"  required="true" label="Text 3">

                                                <f:selectItems  value="#{wizardController.lstcmpt}" var="zona"  itemLabel="#{zona.horarioStr}" itemValue="#{zona.horarioStr}" />

                                            </h:selectOneMenu>

                                        </div>
                                        <div class="ui-g-12 ui-md-3" style="border:1px solid lightslategrey; width: 50%">
                                            <br></br>
                                            <br></br>
                                            <p:outputLabel value="El evento inicia a:" />
                                            <p:datePicker id="inicia" value="#{wizardController.ini}" timeOnly="true" pattern="HH:mm"/>
                                            <br></br>
                                            <br></br>
                                            <br></br>
                                            <p:outputLabel value="El evento termina a:" />
                                            <p:datePicker id="termina" value="#{wizardController.fin}" timeOnly="true" pattern="HH:mm"/>
                                            <br></br>
                                            <br></br>
                                            <br></br>
                                            <br></br>
                                        </div>

                                        <br></br>
                                        <br></br>
                                    </div>

                                    <br></br>
                                    <br></br>
                                    <br></br>
                                    <br></br>
                                    <h:outputText value="El evento es fisico? " style="margin-right: 315px" />
                                    <br></br>
                                    <br></br>
                                    <br></br>
                                    <p:inputSwitch value="#{wizardController.fisico}" style="height:30px; width:90px;margin-right: 315px" /> 
            
                                    <p:commandButton value="Guardar Día"  style="margin-left:400px; height: 25px; width:110px;" actionListener="#{wizardController.fillContainer}" /> 
                                    


                                </p:panel>
                                <br></br>
                                <br></br>

                                <p:panel id="Verificar" header="Confrimación de datos"  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">
                                    <br></br>
                                    <br></br>

                                    <p:panel id="dias" widgetVar="pnlDias"  style="display:block;border:  #03A8E4"  header="Lista de días" toggleable="true" collapsed="true">

                                        <p:scrollPanel id="scrl" widgetVar="srlPnl1" style="width:100%; height:300px;  display:block; margin-bottom: 20px"  >
                                            
                                            <c:forEach id="P111"  items="#{wizardController.lstOrdenada}"  var="P1" varStatus="true"  > 

                                                <div  style="border-radius:1%; margin-bottom: 0.2em;border: 0.1em;border-color: #0388e5;border-style: solid;padding: 15px;width: 100%" with="100%">

                                                    <span class="count visitors"  style="margin-left: 315px; text-align:right;">Día #{P1.ord}</span>
                                                    <br></br>
                                                    <br></br>
                                                    <span with="60px" style="display: inline-block;width: 80px; height:100%;margin-right:1px;border-radius: 10% ;color: #ffffff;align-content: center;text-align: center ;font-size: x-large;">#{P1.hinicial}</span>
                                                    <span style="font-size: x-large;width: 80px;height: 52px">-</span>
                                                    <span style="display: inline-block;width: 80px;height: 100%;margin-right:  13px;border-radius: 10% ;color: #ffffff;align-content: center;text-align: center ;font-size: x-large; ">#{P1.hfinal}</span>
                                                    <br></br>
                                                    <br></br>
                                                    <span  style="font-size: x-large;width: 56px;height: 52px; margin-right:390px;text-align: left;align-content: center; direction: ltr " >#{P1.dia}</span>

                                                </div>

                                            </c:forEach>

                                        </p:scrollPanel>


                                    </p:panel>

                                    <br></br>
                                    <br></br>
                                    <br></br>
                                    <br></br>

                                </p:panel>



                                <p:dialog modal="true" resizable="false" header="Values" widgetVar="dlgHora" showEffect="fold">
                                    <h:outputText value="Time Only:" />
                                    <h:outputText value="#{calendarview.date14}">
                                        <f:convertDateTime pattern="HH:mm" />
                                    </h:outputText>
                                </p:dialog>

                                `</p:panel>
                               </h:form>

                            </p:tab>



                            <p:tab id="infoBasica" title="Información Básica"  >
                                <p:panel  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">
                                    <p:panel style="text-align: left">
                                        <p:panel style="display:block;border: none">
                                            <p:commandButton  style="width: 48px;height: 48px" iconPos="center" icon="fa fa-align-left"></p:commandButton>
                                            <h:outputText  value="Información Básica" style="font-size: xx-large;font-weight: bold"></h:outputText>  
                                        </p:panel>
                                        <p:panel style="width: 100%;display: inline-block;border: none" >
                                            <h:inputTextarea 

                                                rows="10"             
                                                cols="1"
                                                readonly="true" 
                                                style="display: block;width: 100%;border: none;resize: none; font-family:Arial,Helvetica;background: none;font-size: medium;text-align: left"
                                                class="detail" 
                                                value="Elige un nombre para tu evento y cuéntales a los asistentes por que creés que lo van a pasar genial.Añade detalles que destaquen por qué tu evento es único.
                                                "> 
                                            </h:inputTextarea>
                                            <!--Colocar el nombre del evento-->
                                            <div style="width: 100%;border: solid #cccccc thin">
                                                <label style="margin:4px">Nombre del evento</label>
                                                <center>
                                                    <p:inputTextarea
                                                        requiredMessage="El nombre del evento es obligatorio."
                                                        style="width: 100%;border: none !important;margin: 0px;padding: 0px"
                                                        required="true"
                                                        maxlength="75"
                                                        counter="eventoNombreC"
                                                        counterTemplate="{0}/75">

                                                    </p:inputTextarea>
                                                </center>
                                            </div>
                                            <!--Counter del nombre del evento-->
                                            <div style="width: 100%;text-align: left" id="counterContainerEvt">
                                                <h:outputText style="float: right" id="eventoNombreC" ></h:outputText>
                                            </div>
                                            <br></br>
                                            <br></br>

                                            <!--Seleccionar un tipo para el evento-->

                                            <div style="width: 100%;">
                                                <p:selectOneMenu  required="true" id="selectSoC" effect="fold" style="margin: 0px;padding: 0px;width:100%;margin-bottom:4px !important">
                                                    <f:selectItem itemLabel="Seminario o Charla" itemValue="" />
                                                    <f:selectItem itemLabel="Seminario" itemValue="1" />
                                                    <f:selectItem itemLabel="Charla" itemValue="2" />
                                                </p:selectOneMenu>
                                                <p:selectOneMenu  placeholder="Otro" required="true" id="selectOther"  editable="true"  style="margin: 0px;padding: 0px;width:100%;">
                                                    <f:selectItem itemLabel="Otro" itemValue="" />
                                                </p:selectOneMenu>
                                            </div>
                                            <br></br>
                                            <br></br>
                                            <!--UI de tags-->
                                            <div style="width: 100%;border: solid #cccccc thin">
                                                <center>
                                                    <p:inputTextarea
                                                        style="width: 100%;height: 100%;margin: 0px;padding: 0px !important;border: none !important"
                                                        maxlength="25"
                                                        required="true"
                                                        requiredMessage="No pueden añadirse vacíos."
                                                        counter="eventoTagC"
                                                        counterTemplate="{0}/25">

                                                    </p:inputTextarea>
                                                </center>
                                            </div>
                                            <!--Counter para nombre de tag-->
                                            <div style="width: 100%;text-align: left" id="counterContainerTag">
                                                <h:outputText style="float: right" id="eventoTagC" ></h:outputText>
                                            </div>
                                        </p:panel>

                                    </p:panel>
                                </p:panel>
                            </p:tab>

                            <p:dialog widgetVar="dlg" showEffect="fade">
                                <h:form prependId="false">
                                    <h:panelGrid columns="2">
                                        <h:outputLabel for="title" value="Title:" />
                                        <p:inputText id="title" value="#{addMarkersView.title}" />

                                        <f:facet name="footer">
                                            <p:commandButton value="Add" action="#{addMarkersView.addMarker}" update=":messages" oncomplete="markerAddComplete()" />
                                            <p:commandButton value="Cancel" onclick="return cancel()" />
                                        </f:facet>
                                    </h:panelGrid>

                                    <h:inputHidden id="lat" value="#{addMarkersView.lat}" />
                                    <h:inputHidden id="lng" value="#{addMarkersView.lng}" />
                                </h:form>
                            </p:dialog>



                        </p:wizard>
                    </h:form>
                </center>
                <style>
                    .ui-widget-content {
                        background: #ffffff !important;
                    }
                    .ui-selectonemenu .ui-selectonemenu-label {
                        font-size: 18px !important;
                    }
                    .ui-selectonemenu-panel .ui-selectonemenu-item {
                        font-weight: normal;
                        font-size: 18px !important;
                        cursor : pointer;
                    }
                    .ui-inputfield {
                        margin: 0;
                        outline: medium none;
                        padding: 0px !important;
                        font-weight: normal;
                    }
                </style>
            </ui:define>

        </ui:composition>

    </body>

</html>
