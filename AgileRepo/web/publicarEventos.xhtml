<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>

        <ui:composition template="./WEB-INF/templateEvtPublic.xhtml" >
            <ui:define name="title">Publica tus eventos</ui:define>
            <ui:define name="head">

                <f:metadata>
                    <f:viewAction action="#{wizardcontroller.onLoad()}"/>
                    <f:viewAction action="#{eventWizardImageController.onLoad()}"/>
                    <f:viewAction action="#{wizardcontroller.llenarCombo()}" />
                </f:metadata>


            </ui:define>

            <ui:define name="content">
                <script type="text/javascript">
                    //window.onload = ini;
                    //function ini() {
                    //    let btnNext = document.getElementById('j_idt32:j_idt33_next');
                    //    let secondSpan = btnNext.children[1];
                    //    secondSpan.innerHTML ='Siguiente';
                    // }
                </script>


                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDyo1Ab1cAQY4WKk5YwXXtfh1r4ue37drk;libraries=drawing" ></script>


                <script src="https://maps.googleapis.com/maps/api/js? key=AIzaSyDyo1Ab1cAQY4WKk5YwXXtfh1r4ue37drk" ></script>





                <script type="text/javascript">
                    PrimeFaces.locales['es'] = {
                        closeText: 'Cerrar',
                        prevText: 'Anterior',
                        nextText: 'Siguiente',
                        monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                        monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                        dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                        dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
                        weekHeader: 'Semana',
                        firstDay: 1,
                        isRTL: false,
                        showMonthAfterYear: false,
                        yearSuffix: '',
                        timeOnlyTitle: 'Sólo hora',
                        timeText: 'Tiempo',
                        hourText: 'Hora',
                        minuteText: 'Minuto',
                        secondText: 'Segundo',
                        currentText: 'Fecha actual',
                        ampm: false,
                        month: 'Mes',
                        week: 'Semana',
                        day: 'Día',
                        allDayText: 'Todo el día'
                    };
                    PrimeFaces.locales ['de'] = {
                        closeText: 'Schließen',
                        prevText: 'Zurück',
                        nextText: 'Weiter',
                        monthNames: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
                        monthNamesShort: ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
                        dayNames: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
                        dayNamesShort: ['Son', 'Mon', 'Die', 'Mit', 'Don', 'Fre', 'Sam'],
                        dayNamesMin: ['S', 'M', 'D', 'M ', 'D', 'F ', 'S'],
                        weekHeader: 'Woche',
                        firstDay: 1,
                        isRTL: false,
                        showMonthAfterYear: false,
                        yearSuffix: '',
                        timeOnlyTitle: 'Nur Zeit',
                        timeText: 'Zeit',
                        hourText: 'Stunde',
                        minuteText: 'Minute',
                        secondText: 'Sekunde',
                        currentText: 'Aktuelles Datum',
                        ampm: false,
                        month: 'Monat',
                        week: 'Woche',
                        day: 'Tag',
                        allDayText: 'Ganzer Tag'
                    };
                </script>

                <script type="text/javascript">
                    //<![CDATA[
                    function dateTemplateFunc(date) {
                        return '<span style="background-color:' + ((date.day < 21 && date.day > 10) ? '#81C784' : 'inherit') + ';border-radius:50%;padding: .25em;width: 1.75em; height:1.75em; display:block;">' + date.day + '</span>';
                    }
                    //]]>
                </script>

                <script type="text/javascript">
                    var currentMarker = null;

                    function handlePointClick(event) {
                        if (currentMarker === null) {
                            document.getElementById('lat').value = event.latLng.lat();
                            document.getElementById('lng').value = event.latLng.lng();


                            currentMarker = new google.maps.Marker({
                                position: new google.maps.LatLng(event.latLng.lat(), event.latLng.lng())
                            });

                            PF('map').addOverlay(currentMarker);

                            PF('dlg').show();
                        }
                    }

                    function markerAddComplete() {
                        var title = document.getElementById('title');
                        currentMarker.setTitle(title.value);
                        title.value = "";

                        currentMarker = null;
                        PF('dlg').hide();
                    }

                    function cancel() {
                        PF('dlg').hide();
                        currentMarker.setMap(null);
                        currentMarker = null;

                        return false;
                    }
                </script>


                <center>    

                    <h:form target="publicarEventos.xhtml" id="publicarEvento"  prependId="false" style="width: 90%;height: 100%;padding: 30px">

                        <p:messages closable="true"  id="messageErrorTag" >
                            <p:autoUpdate />
                        </p:messages>
                        <p:tabView  cache="false"  id="test1"  widgetVar="wPublicacion" style="width: 100%;height: 100%;margin-top: 10px !important;" >

                            <p:tab id="infoBasica" title="Información Básica"  >
                                <p:panel  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">
                                    <p:panel id="pnlHelp" style="text-align: left">
                                        <p:panel style="display:block;border: none">
                                            <p:commandButton  partialSubmit="true"
                                                              class="textButtonIcon"
                                                              process="@this" validateClient="true"  
                                                              iconPos="center" icon="fa fa-align-left"></p:commandButton>
                                            <h:outputText  value="Información Básica" style="font-size: xx-large;font-weight: bold"></h:outputText>  
                                        </p:panel>

                                        <h:inputTextarea 
                                            cols="1"
                                            readonly="true" 
                                            style="color: #999999;display: block;width: 100%;border: none;resize: none; font-family:Arial,Helvetica;background: none;font-size: medium;text-align: left"
                                            class="detail txtIntro" 
                                            value="Elige un nombre para tu evento y cuéntales a los asistentes por que creés que lo van a pasar genial.Añade detalles que destaquen por qué tu evento es único.
                                            "> 
                                        </h:inputTextarea>
                                        <!--Colocar el nombre del evento-->
                                        <div style="width: 100%;border: solid #cccccc thin;border-radius: 6px;">
                                            <label style="color: #999999;font-family: latoregular,Trebuchet MS,Arial,Helvetica,sans-serif;margin:4px">Nombre del evento</label>
                                            <center>
                                                <p:inputTextarea
                                                    value="#{wizardcontroller.nombreEvento}"
                                                    id="inputNameEvt"
                                                    class="inputNameEvt"
                                                    requiredMessage="El nombre del evento es obligatorio."
                                                    style="color: #000;font-family: latoregular,Trebuchet MS,Arial,Helvetica,sans-serif;width: 100%;border: none !important;margin: 0px;padding: 8px !important"
                                                    required="true"
                                                    onkeypress="if (event.keyCode == 13) {
                                                                return false;
                                                            }"
                                                    maxlength="75"
                                                    counter="eventoNombreC"
                                                    counterTemplate="{0}/75">

                                                </p:inputTextarea>
                                                <!--Mensaje de error-->
                                                <p:message  id="messagesNombreEvt" for="inputNameEvt" showDetail="false">
                                                    <p:autoUpdate />
                                                </p:message>
                                            </center>
                                        </div>
                                        <!--Counter del nombre del evento-->
                                        <div style="width: 100%;text-align: left" id="counterContainerEvt">
                                            <h:outputText style="font-weight: bold;float: right" id="eventoNombreC" ></h:outputText>
                                        </div>
                                        <br></br>
                                        <br></br>

                                        <!--Seleccionar un tipo para el evento-->

                                        <div style="width: 100%;">
                                            <p:selectOneMenu   value="#{wizardcontroller.tipoEvento}"  requiredMessage="Seleccione uno."  required="true" id="selectSoC" effect="fold" style="margin: 0px;padding: 0px;width:100%;margin-bottom:4px !important">
                                                <f:selectItem itemLabel="Seleccione una opción" itemValue="" />
                                                <f:selectItem  itemLabel="Seminario" itemValue="Seminario" />
                                                <f:selectItem itemLabel="Charla" itemValue="Charla" />
                                            </p:selectOneMenu>
                                            <!--Mensaje de error-->
                                            <p:message   id="messageDropdown" for="selectSoC" showDetail="false">
                                                <p:autoUpdate />
                                            </p:message>
                                        </div>
                                        <br></br>
                                        <br></br>
                                        <!--UI de tags-->

                                        <div style="width: 100%;border: solid #cccccc thin;padding:0px;border-radius: 6px;">
                                            <!--Ui-Fluid-->
                                            <div class="ui-g ui-fluid">
                                                <div class="ui-g-12 ui-md-8">
                                                    <!--Col1-->
                                                    <label style="color: #999999;font-family: latoregular,Trebuchet MS,Arial,Helvetica,sans-serif;margin:4px">Tags</label>
                                                    <center>   
                                                        <p:inputTextarea
                                                            id="inputTag"
                                                            class="inputTag"
                                                            style="display: inline-block;width: 100%;height: 100%;margin: 0px;padding-left:  8px !important;border: none !important"
                                                            maxlength="25"
                                                            onkeypress="if (event.keyCode == 13) {
                                                                        return false;
                                                                    }"
                                                            required="true"
                                                            requiredMessage="No pueden añadirse vacíos."
                                                            counter="eventoTagC"
                                                            value="#{wizardcontroller.newTag}"
                                                            counterTemplate="{0}/25">

                                                        </p:inputTextarea>
                                                        <!--Mensaje de error-->
                                                        <p:message  id="messagesTag" for="inputTag" showDetail="false">
                                                            <p:autoUpdate />
                                                        </p:message>
                                                    </center>  
                                                </div>
                                                <div class="ui-g-12 ui-md-3" style="vertical-align: middle;text-align: center" >
                                                    <p:commandButton 
                                                        validateClient="true"
                                                        update="messageErrorTag inputTag"
                                                        icon="fas fa-plus"
                                                        iconPos="left"
                                                        process="@this inputTag,messageErrorTag"
                                                        partialSubmit="true"
                                                        actionListener="#{wizardcontroller.addTag}"
                                                        style="float: inside;display: block;width: 90%;height: 80% !important;margin-top:6px;margin-bottom: 4px;margin-right:4px;margin-left: 8px"
                                                        value="Añadir">
                                                    </p:commandButton>
                                                </div>
                                                <div class="ui-g-12 ui-md-1" >
                                                    <center>
                                                        <p:commandButton
                                                            validateClient="true"
                                                            partialSubmit="true"
                                                            process="@this"
                                                            id="btnTool"
                                                            class="btnTool"
                                                            iconPos="center"
                                                            icon="fas fa-comment-dots"
                                                            style="margin: 24px;width: 32px;height: 32px;border-radius: 50%;">
                                                        </p:commandButton>
                                                    </center>
                                                </div>
                                            </div>
                                        </div>
                                        <!--Counter para nombre y numero de tags-->
                                        <p:panel   style="border: none;width: 100%;text-align: left" id="counterContainerTag">
                                            <h:outputText   style="font-weight: bold;float: right" id="eventoTagC" ></h:outputText>
                                            <h:outputText style="font-weight: bold;float: left" id="eventoTagCc" value="#{wizardcontroller.strTag}/10" ></h:outputText>
                                        </p:panel>
                                        <br></br>
                                        <br></br>
                                        <!--tooltip-->
                                        <div style="display: inline-block;width: 100%;padding-bottom: 8px">
                                            <p:tooltip showEffect="clip" position="left" for="btnTool" value="">
                                                <p:inputTextarea
                                                    rows="4"
                                                    cols="1"
                                                    title="Consejo Pro"
                                                    value="Mejora las posibilidades de
                                                    que descubran tu evento
                                                    añadiendo etiquetas
                                                    relevantes para el tema."
                                                    readonly="true"
                                                    style="border: none;background: none;width: 200px;color: #ffffff;font-family: latoregular,Trebuchet MS,Arial,Helvetica,sans-serif;">

                                                </p:inputTextarea>
                                            </p:tooltip>

                                        </div>

                                        <!--Div para agregar los tags asi de barbaros-->
                                        <p:panel id="tagListDiv" style="border: none;width: 100%;margin-top: 8px">
                                            <c:forEach
                                                id="tagList"
                                                var="tag"
                                                rendered="#{not empty wizardcontroller.tags}"
                                                items="#{wizardcontroller.tags}">
                                                <div style="margin-right: 16px;height: 16px;padding: 8px;display: inline-block;background: #2b7eab;overflow: hidden;border-radius:15px ">
                                                    <center>
                                                        <span
                                                            style="padding: 8px;color: #ffffff;font-family: latoregular,Trebuchet MS,Arial,Helvetica,sans-serif;">#{tag.tag}</span>
                                                        <p:commandButton
                                                            actionListener="#{wizardcontroller.deleteTag}"
                                                            partialSubmit="true"
                                                            process="@this"
                                                            validateClient="true"
                                                            iconPos="center"
                                                            icon="fas  fa-cut"
                                                            style="padding: 4px;width: 4px;height: 4px;float: right;background: none">
                                                            <f:attribute name="delTag" value="#{tag}"/>
                                                        </p:commandButton>
                                                    </center>
                                                </div>
                                            </c:forEach>
                                        </p:panel>
                                        <p:panel   id="pnlTest"   style="width: 100%" header="Información del Organizador" >
                                            <!--Div para la UI del organizador-->
                                            <div style="width: 100%;border: solid #cccccc thin;border-radius: 6px;">
                                                <!--Nombre deo organizador logueado-->
                                                <label style="display: block;color: #999999;font-family: latoregular,Trebuchet MS,Arial,Helvetica,sans-serif;margin:4px">Organizador</label>
                                                <div class="ui-g ui-fluid">
                                                    <div class="ui-g-12 ui-md-9">
                                                        <p:outputLabel style="height: 100px;padding: 4px;margin-bottom: 8px" value="#{wizardcontroller.nombreOrganizador}" ></p:outputLabel>
                                                        <label style="display: block;color: #999999;font-family: latoregular,Trebuchet MS,Arial,Helvetica,sans-serif;margin:4px">Descripción</label>
                                                        <p:inputTextarea 
                                                            id="inputDesc"
                                                            value="#{wizardcontroller.descOrganizador}"
                                                            counter="eventoDescC"
                                                            counterTemplate="{0}/200"
                                                            maxlength="200"
                                                            class="inputDesc" style="padding: 8px !important;display: block">

                                                        </p:inputTextarea>
                                                        <!--Mensaje de error-->
                                                        <p:message  id="messagesDesc" for="inputDesc" showDetail="false">
                                                            <p:autoUpdate />
                                                        </p:message>
                                                        <!--Counter para descripcion-->
                                                        <h:outputText   style="font-weight: bold;float: right" id="eventoDescC" ></h:outputText>

                                                    </div>
                                                    <div class="ui-g-12 ui-md-3">
                                                        <p:graphicImage  width="200" height="192" cache="false" id="ppOrg" class="ppOrganizador"   value="#{eventWizardImageController.profileImage}" stream="true" style="background-attachment: fixed ;border-radius: 6px;display: block;height: 192px;"></p:graphicImage>
                                                    </div>

                                                    <div class="ui-g-12 ui-md-12" style="padding: 4px!important">

                                                        <p:fileUpload update="imgLoader btnEliminarInfoB"  id="imgLoader" fileLimit="1" chooseIcon="fas fa-file-image" uploadIcon="fas fa-cloud-upload-alt"   fileUploadListener="#{eventWizardImageController.handleFileUpload}"  cancelLabel="Cancelar" invalidFileMessage="Tipo no soportado." fileLimitMessage="El archivo excede el tamaño permitido." allowTypes="/(\.|\/)(jpe?g|png)$/" uploadLabel="Confirmar" style="display: block" label="Fotografía del Organizador." ></p:fileUpload>
                                                        <p:commandButton id="btnEliminarInfoB" icon="fas fa-folder-minus" actionListener="#{eventWizardImageController.deletFile}" disabled="#{eventWizardImageController.btnEliminarImgInfoBasica}" partialSubmit="true" process="@this"   value="Eliminar Fotografía." ></p:commandButton>

                                                    </div>
                                                    <div class="ui-g-12 ui-md-12" style="margin-top: 8px;padding: 2px!important">

                                                        <p:commandButton icon="far fa-save" class="btnSaveCInfoB"  validateClient="true" actionListener="#{wizardcontroller.saveInfoBasica}"  process="@this inputNameEvt,selectSoC,inputDesc"  partialSubmit="true" value="Guardar y continuar" style="display: inline-block;" >

                                                        </p:commandButton>

                                                    </div>

                                                </div>
                                            </div>
                                        </p:panel>
                                    </p:panel>
                                </p:panel>
                            </p:tab>  



                            <p:tab   id="imagenPrincipal"     title="Imagen Principal">
                                <p:panel id="panelImg"  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">
                                    <div style="width:90%; margin-left:20px;">
                                        <i class="pi pi-image" style="font-size:48px; color:#0388e5;"></i>
                                        <h:outputText  value="Seleccionar la imagen principal del evento" style="font-size:28px; font-weight: bold"></h:outputText>      
                                    </div>


                                    <div style="width:100%; height:100%;">

                                        <div  id="portadaVista" style="width:90%; height:100%; background-repeat:no-repeat; background-size:cover; position:relative;">
                                            <p:graphicImage cache="false" id="GIPrincipal" value="#{portadacontroller.fotoPrincipal}"    height="100%" width="100%" style="margin-left:20px; "/>
                                        </div>


                                        <p:fileUpload oncomplete="#{portadacontroller.update()}" id="imagenPortada" chooseIcon="pi pi-image"   fileUploadListener="#{portadacontroller.handleFileUpload}" style="border:none; width:90%; margin-left:20px; height:100%;" allowTypes="/(\.|\/)(jpe?g|png)$/"  invalidFileMessage="El tipo de archivo no es compatible. Utilice archivos .jpg o .png" label="Agregar archivo" multiple="false" uploadLabel="Subir" cancelLabel="Cancelar"  >

                                        </p:fileUpload>
                                    </div>

                                </p:panel>
                            </p:tab>








                            <p:tab id="descripcion" title="Resumen/Descripción">
                                <p:panel  style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">
                                    <div style="width:90%; margin-left:20px;">
                                        <i class="pi pi-align-left" style="font-size:48px; color:#0388e5;"></i>
                                        <h:outputText  value="Resumen del evento" style="font-size:28px; font-weight: bold"></h:outputText>      
                                    </div>
                                    <p:inputTextarea id="resumenId" rows="5" cols="30" valueChangeListener="#{wizardcontroller.cambioResumen}" value="#{wizardcontroller.resumen}"  counter="resumen" maxlength="140" counterTemplate="{0}/140" autoResize="false" style="width:95%; margin-left:20px;" />    
                                    <br/>
                                    <h:outputText id="resumen" style="float:right; font-weight:bold; margin-right:20px;"/>
                                    <br/>
                                    <br/>
                                    <i class="pi pi-pencil" style="font-size:48px; color:#0388e5; margin-left:20px;"></i>
                                    <h:outputText  value="Descripción del evento" style="font-size:28px; font-weight: bold; margin-left:20px;"></h:outputText>      




                                    <p:textEditor id="descID" widgetVar="editor2" value="#{wizardcontroller.descripcion}" height="300" style="margin-bottom:10px; width:95%; margin-left:20px;" valueChangeListener="#{wizardcontroller.cambioDesc}" placeholder="Escribe una descripción que llame la atención del público potencial de tu evento">

                                        <f:facet name="toolbar">

                                            <!-->
                                            Esta es la lista de los controles del textEditor que generan 
                                            html legible por un h:outputText
                                              
                                              </!-->



                                            <span class="ql-formats">
                                                <button class="ql-header ql-active" value="1"></button>
                                                <button class="ql-header ql-active" value="2"></button>
                                                <button class="ql-bold"></button>
                                                <button class="ql-italic"></button>
                                                <button class="ql-underline"></button>
                                                <button class="ql-strike"></button>
                                                <button class="ql-list" value="ordered"></button>
                                                <button class="ql-list" value="bullet"></button>
                                                <select class="ql-color ql-picker ql-color-picker"></select>
                                                <select class="ql-align"></select>
                                            </span>

                                        </f:facet>
                                    </p:textEditor>

                                    <p:commandButton class="btnSaveResume" id="submitDescripción" value="Guardar" action="#{wizardcontroller.setDescripcionResumen()}" process="@this resumenId descID"  partialSubmit="true"  >
                                        <f:ajax execute="editor2"></f:ajax>
                                        <f:ajax execute="resumenId"></f:ajax>
                                    </p:commandButton>      
                                </p:panel>   
                            </p:tab>



                            <p:tab id="imagenSecundaria" title="Imagen Secundaria">
                                <p:panel id="panelImgSecundaria" style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">
                                    <div style="width:90%; margin-left:20px;">
                                        <i class="pi pi-image" style="font-size:48px; color:#0388e5;"></i>
                                        <h:outputText  value="Seleccionar la imagen secundaria del evento" style="font-size:28px; font-weight: bold"></h:outputText>      
                                    </div>


                                    <div style="width:100%; height:100%;">

                                        <div  id="secundariaVista" style="width:90%; height:100%; background-repeat:no-repeat; background-size:cover; position:relative;">
                                            <p:graphicImage cache="false" id="GISecundaria" value="#{portadacontroller.fotoSecundaria}" stream="true"   height="100%" width="100%" style="margin-left:20px;"/>
                                        </div>


                                        <p:fileUpload  id="imagenSecundariaSube" chooseIcon="pi pi-image"   fileUploadListener="#{portadacontroller.handleSecundariaUpload}" style="border:none; width:90%; margin-left:20px; height:100%;" allowTypes="/(\.|\/)(jpe?g|png)$/"  invalidFileMessage="El tipo de archivo no es compatible. Utilice archivos .jpg o .png" label="Agregar archivo" multiple="false" uploadLabel="Subir" cancelLabel="Cancelar"  >

                                        </p:fileUpload>
                                    </div>











                                </p:panel>   
                            </p:tab>


                            <p:tab id="ubi-hora" title=" Ubicación y Horario" rendered="true"  >                             

                                <p:panel id="Todo" widgetVar="todoW" style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">   

                                    <p:panel id="Ubicacion" widgetVar="wUbi"   style="text-align: left;width: 100%;height: 100%;border: none !important;background: #0084b4 !important; background-color: #03A8E4 !important; color: #03A8E4 !important;"    >
                                        <br></br>
                                        <br></br>

                                        <h:outputText  value="Ubicación" style="font-size:28px; font-weight: bold"></h:outputText>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <h:outputText value="El evento es presencial? " style="margin-right: 315px; font-size: 22px" />
                                        <br></br>

                                        <br></br>
                                        <p:inputSwitch value="#{wizardcontroller.fisico}" onLabel="Sí" offLabel="No" style="height:25px; width:200px;margin-right: 315px">
                                            <p:ajax listener="#{wizardcontroller.switchState()}" />
                                        </p:inputSwitch>
                                        <br></br>
                                        <br></br>
                                        <br></br>

                                        <p:panel id="ubi"  style="display:block;border:  #03A8E4"  header="Ubicación presencial" rendered="#{wizardcontroller.isFisico}"  >

                                            <h3>Digite la direccion del evento:</h3>

                                            <p:inputTextarea id="txtDir" value="#{wizardcontroller.ubi}" rows="6" cols="33" counter="display" maxlength="150" counterTemplate="{0} carácteres restante." autoResize="false" style="width: 400px; height: 80px;" /> <p:graphicImage name="images/map.png" library="omega-layout" style=" height:110px; width: 100px; margin-left: 315px; " width="80px" height="80px"  />
                                            <br/>
                                            <h:outputText id="display" />

                                        </p:panel>



                                        <p:panel id="link" widgetVar="pnlLink" style="display:block;border:#03A8E4" header="Link del Evento" rendered="#{wizardcontroller.isLink}" >

                                            <h3>Digita el link al evento:</h3>
                                            <p:inputTextarea id="txtLink" value="#{wizardcontroller.link}" rows="6" cols="33" style=" width: 400px; height: 80px;"/>   <p:graphicImage name="images/internet-png-icon-6.png" library="omega-layout" style=" height:110px; width: 100px; margin-left: 315px; " width="80px" height="80px"  />

                                        </p:panel>




                                    </p:panel>

                                    <p:panel id="Hora"   style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">

                                        <br></br>
                                        <br></br>
                                        <h:outputText  value="Horarios" style="font-size:28px; font-weight: bold"></h:outputText>
                                        <br></br>
                                        <br></br>



                                        <div class="ui-g ui-fluid">
                                            <div class="ui-g-12 ui-md-8" style="border:0.5px solid lightslategrey ; width: 50%"  >
                                                <br></br>
                                                <br></br>
                                                <p:outputLabel value="Zona Horaria:" style=" margin-left: 150px;" />
                                                <br></br>
                                                <br></br>
                                                <h:selectOneMenu id="comboZonas" value="#{wizardcontroller.horario.horarioStr}"   style=" width: 80%; margin-left: 20px;"  required="true" label="Text 3">

                                                    <f:selectItems  value="#{wizardcontroller.lstcmpt}" var="zona"  itemLabel="#{zona.horarioStr}" itemValue="#{zona.horarioStr}" />

                                                </h:selectOneMenu>
                                                <br></br>
                                                <br></br>
                                                <br></br>

                                                <p:outputLabel value="Selecciona la fecha de inicio y final:" style=" margin-left: 40px;" />
                                                <br></br>
                                                <br></br>
                                                
                                                <p:outputLabel  style="margin-left: 16px;display: inline-block;width: 100px;font-weight:bold;" for="dateConfigIni" value="Fecha Inicio : "></p:outputLabel>
                                                <p:inputMask  style="margin-left: 16px;width:200px;text-align: center;" id="dateConfigIni" value="#{wizardcontroller.fechaIniStr}" mask="99-99-9999" required="true"/>
                                                <p:tooltip id="toolTipFadeFini" for="dateConfigIni" value="dd-mm-yyyy" position="top"/>
                                                <br></br>
                                                <br></br>
                                                <p:outputLabel style="margin-left: 16px;display: inline-block;width: 100px;font-weight:bold;" for="dateConfigFin" value="Fecha Fin : "></p:outputLabel>
                                                <p:inputMask style="margin-left: 16px;width:200px;text-align: center;margin-bottom: 8px" id="dateConfigFin" value="#{wizardcontroller.fechaFinStr}" mask="99-99-9999" required="true" requiredMessage="La fecha de finalizacion es obligatoria."/>
                                                <p:tooltip id="toolTipFadeFfin" for="dateConfigFin" value="dd-mm-yyyy" position="top"/>

                                            </div>
                                            <div class="ui-g-12 ui-md-3" style="border:0.5px solid lightslategrey; width: 50%">
                                                <br></br>
                                                <br></br>
                                                <p:outputLabel for="horaIni" value="El evento inicia a:" style="margin-left: 16px;display: inline-block;width: 100px;font-weight:bold;" />
                                                <br></br>
                                                <p:inputMask id="horaIni" value="#{wizardcontroller.strHini}" mask="99:99" style="width:35%;text-align: center; margin-left: 110px;" />

                                                <p:tooltip id="toolTipHoraIni" for="horaIni" value="hh:mm Formato 24h" position="top"/>

                                                <br></br>
                                                <br></br>
                                                <br></br>
                                                
                                                <p:outputLabel for="horaFin" value="El evento termina a:" style="margin-left: 16px;display: inline-block;width: 100px;font-weight:bold;" />
                                                <br></br>
                                                <p:inputMask id="horaFin" value="#{wizardcontroller.strHfin}" mask="99:99" style="width:35%;text-align: center;margin-left: 110px;" />
                                                <p:tooltip id="toolTipHoraFin" for="horaFin" value="hh:mm Formato 24h" position="top"/>
                                                <br></br>
                                                <br></br>
                                              
                                            </div>

                                            <br></br>
                                            <br></br>
                                        </div>

                                        <br></br>
                                        <br></br>
                                        <br></br>

                                        <p:commandButton  process="@this ubi-hora" value="Guardar"  rendered="#{wizardcontroller.draft and wizardcontroller.editionMode == false}"  style="margin-left:400px; height: 32px; width:120px;" actionListener="#{wizardcontroller.fillContainer}" />  
                                        <p:commandButton  process="@this ubi-hora"  value="Editar"  rendered="#{wizardcontroller.savedConfig or wizardcontroller.editionMode == true }"  style="margin-left:400px; height: 32px; width:120px;" actionListener="#{wizardcontroller.updtConfig}" /> 


                                    </p:panel>
                                    <br></br>
                                    <br></br>
                                </p:panel>


                            </p:tab>




                            <p:tab id="entradas" title="Entradas">
                                <p:panel id="panelMainEntradas" style="text-align: left;width: 100%;height: 100%;border: none !important;background: #ffffff">
                                    <div class="ui-g">
                                        <!-- Dependiendo del valor de editarDivRend actualiza la vista del tab -->
                                        <div class="#{(wizardcontroller.editarDivRend)?'ui-g-12 ui-md-6 ui-1g-6':'ui-g-12 ui-md-12 ui-1g-6'}" style="border-left:1px solid #cccccc; border-right:1px solid #cccccc;">
                                            <p:panel style="border: none">
                                                <h1 style="font-size: xx-large;font-weight: bold">Entradas</h1>
                                                <p:panel style="width:100%; text-align: right; border: none">
                                                    <p:commandButton id="crearEntrada" value="Crear Entrada" action="#{wizardcontroller.nuevaEntrada()}" disabled="#{wizardcontroller.BotonCrearEntrada()}" process="@parent" update="panellista panelGuardar"></p:commandButton>
                                                </p:panel>
                                                <h:panelGroup  id="panellista">
                                                    <c:forEach  id="repeat"  items="#{wizardcontroller.lstEntrada}" var="entradas" varStatus="loop" >
                                                        <div class="card clearfix summary" style='background:#f5f5f5' >
                                                            <!-- Con loop.index se obtiene el valor del index en la lista -->
                                                            <c:set var="index" value="${loop.index}" />
                                                            <!-- Cuando se da click en el boton de edicion, se actualiza la vista con panelEditEntrada panelMainEntradas  -->
                                                            <p:commandButton icon="fa fa-pencil" action="#{wizardcontroller.seleccionarEntrada(entradas.nombre,entradas.tipo,entradas.cantidad,entradas.precio,entradas.fechaInicio,entradas.horaInicio,entradas.fechaFin,entradas.horaFin,index)}" partialSubmit="true" process="@this" update="panelEditEntrada panelMainEntradas" style="float:right">
                                                            </p:commandButton>
                                                            <div style='display: inline;'>
                                                                <h:outputText value="#{entradas.nombre}" style="font-weight:bold;"/>
                                                            </div>
                                                            <div style='display: inline; padding: 10px'>
                                                                <h:outputText value="Cantidad restante: #{entradas.cantidad}"/>
                                                            </div>
                                                            <div style='display: inline; padding: 10px'>
                                                                <!-- Segun el valor de tipo muestra en la tarjeta Gratis o Pago-->
                                                                <h:outputText value="#{entradas.tipo == 0 ? 'Gratis':'Pago'}"/>
                                                            </div>
                                                            <h:outputText value="Fin de ventas: #{entradas.fechaFin}" style='display: block;'/>


                                                        </div>

                                                    </c:forEach>
                                                </h:panelGroup>

                                                <p:panel id="panelGuardar" style="width:100%; text-align: right; border: none">
                                                    <p:commandButton value="Guardar" action="#{wizardcontroller.guardarEntradas()}" disabled="#{wizardcontroller.BotonEntrada()}" process="@parent"></p:commandButton>
                                                </p:panel>

                                            </p:panel>
                                        </div>

                                        <div class="ui-g-12 ui-md-6 ui-1g-6" style="border-left:1px solid #cccccc; border-right:1px solid #cccccc;">
                                            <p:panel id="panelEditEntrada" style="display:#{(wizardcontroller.editarDivRend)?'block':'none'};border: none">
                                                <h1 style="font-size: xx-large;font-weight: bold">Editar Entrada</h1>
                                                <p:panel style="width:100%; text-align: left; border: none; margin-left: 0 !important;padding-left: 0 !important">
                                                    <p:selectOneButton value="#{wizardcontroller.tipoEntrada}">
                                                        <f:selectItem itemLabel="Gratis" itemValue="0" />
                                                        <f:selectItem itemLabel="Pago" itemValue="1" />
                                                        <!-- Muestra el campo de Precio dependiendo de la opcion seleccionada -->
                                                        <p:ajax update="panelPrecio"/> 
                                                    </p:selectOneButton>
                                                    <br/>
                                                    <br/>
                                                    <h:outputText value="Nombre" style='font-weight:bold'/>

                                                    <p:inputTextarea
                                                        id="nombreE"
                                                        value='#{wizardcontroller.nombreEntrada}'
                                                        style="width: 100%;"
                                                        maxlength="50"
                                                        counter="entradaTagC"
                                                        counterTemplate="{0}/50"
                                                        readonly="false"
                                                        required="#{wizardcontroller.validarEntradas}"
                                                        requiredMessage="El nombre de entrada es obligatorio">

                                                    </p:inputTextarea>

                                                    <!--Counter para nombre de tag-->
                                                    <div style="width: 100%;text-align: left" id="counterContainerTag">
                                                        <h:outputText style="float: right" id="entradaTagC" ></h:outputText>
                                                    </div>
                                                    <br/>
                                                    <br/>
                                                    <h:outputText value="Cantidad" style='font-weight:bold'/>
                                                    <h:panelGrid>
                                                        <p:inputText id="txt1" value="#{wizardcontroller.cantidadEntrada}"/>
                                                        <p:slider for="txt1" minValue="1" maxValue="1000" />
                                                    </h:panelGrid>                                            

                                                    <br/>
                                                    <p:panel id="panelPrecio" style="display:#{wizardcontroller.tipoEntrada == 0?'none':'block'}; border:none !important;">
                                                        <h:outputText value="Precio " style='font-weight:bold'/>
                                                        <br/>
                                                        <p:inputNumber id="input2" symbol=" USD" symbolPosition="s" value="#{wizardcontroller.precioEntrada}"
                                                                       decimalSeparator="." thousandSeparator="," style="width: 100%;" readonly="false" required="#{wizardcontroller.validarEntradas}">  
                                                        </p:inputNumber>
                                                    </p:panel>
                                                    <br/>

                                                    <!-- En los espacios para fechas y horas, muestra un tooltip con el formato deseado, ademas el input ya tiene incluido una 
                                                    mascara para que sea de esa manera-->

                                                    <p:panel style="display:inline-block; border:none !important;">
                                                        <h:outputText value="Fecha Inicio " style='font-weight:bold' />
                                                        <br/>
                                                        <p:inputMask id="date1" value="#{wizardcontroller.fechaInicioEntrada}" mask="9999-99-99" required="#{wizardcontroller.validarEntradas}"/>
                                                        <p:tooltip id="toolTipFade" for="date1" value="yyyy-mm-dd" position="top"/>
                                                    </p:panel>

                                                    <p:panel style="display:inline-block; border:none !important;">
                                                        <h:outputText value="Hora Inicio " style='font-weight:bold' />
                                                        <br/>
                                                        <p:inputMask id="time1" value="#{wizardcontroller.horaInicioEntrada}" mask="99:99" required="#{wizardcontroller.validarEntradas}"/>

                                                        <p:tooltip id="toolTipFade1" for="time1" value="hh:mm Formato 24h" position="top"/>
                                                    </p:panel>


                                                    <br/>


                                                    <p:panel style="display:inline-block;border:none !important; padding: 0;">
                                                        <h:outputText value="Fecha Fin " style='font-weight:bold' />
                                                        <br/>
                                                        <p:inputMask id="date2" value="#{wizardcontroller.fechaFinEntrada}" mask="9999-99-99"  required="#{wizardcontroller.validarEntradas}"/>
                                                        <p:tooltip id="toolTipFade2" for="date2" value="yyyy-mm-dd" position="top"/>
                                                    </p:panel>

                                                    <p:panel style="display:inline-block;border:none !important">
                                                        <h:outputText value="Hora Fin " style='font-weight:bold' />
                                                        <br/>
                                                        <p:inputMask id="time2" value="#{wizardcontroller.horaFinEntrada}" mask="99:99" required="#{wizardcontroller.validarEntradas}"/>
                                                        <p:tooltip id="toolTipFade3" for="time2" value="hh:mm Formato 24h" position="top"/>
                                                    </p:panel>

                                                    <br/>
                                                    <br/>
                                                    <center>
                                                        <!-- Actualiza la lista con panellista, Actualiza Seccion Editar con panelEditEntrada, Actualiza la vista con panelMainEntradas -->
                                                        <p:commandButton value="Actualizar" action="#{wizardcontroller.actualizarEntrada()}" process="@parent" update="panellista panelEditEntrada panelMainEntradas"></p:commandButton>
                                                        <!-- Actualiza la lista con panellista, Actualiza Seccion Editar con panelEditEntrada, Actualiza la vista con panelMainEntradas -->
                                                        <p:commandButton value="Borrar" action="#{wizardcontroller.borrarEntrada()}" process="@parent" update="panellista panelEditEntrada panelMainEntradas"></p:commandButton>
                                                        <br/>
                                                        <br/>
                                                        <!-- Cierra la Seccion Editar sin aplicar cambios -->
                                                        <p:commandButton value="Cerrar" action="#{wizardcontroller.cerrarEntrada()}" process="@parent" update="panellista panelEditEntrada panelMainEntradas"></p:commandButton>


                                                    </center>
                                                </p:panel>
                                            </p:panel>
                                        </div>

                                    </div>

                                </p:panel>
                                <center>
                                    <p:commandButton actionListener="#{wizardcontroller.finalizarConfiguracion}" icon="fas fa-door-open" process="@this" style="width: 96%"  value="Finalizar configuración"></p:commandButton>
                                </center>
                            </p:tab>

                        </p:tabView>
                        <!-- </p:wizard> --> 





                    </h:form>
                </center>   



                <!-->Estilos feos</!-->
                <style>


                    .ui-fileupload-content .ui-progressbar {
                        width: 99%;
                        height: 20px;
                        margin: 0;
                        top: 5px;
                    }
                    /*Si esto llega a causarles problemas con sus iconos,me avisan y lo quito*/
                    .ui-button-icon-only .ui-icon, .ui-button-text-icon-left .ui-icon, .ui-button-text-icon-right .ui-icon {
                        position: absolute;
                        top: 51%;
                        height: 25px;
                        margin-top: -8px;
                    }

                    /*No es mucho.Pero es trabajo honesto*/
                    @media only screen and (max-width: 1353px){
                        /*Dispositivos moviles grandes*/
                        .btnSaveResume{
                            right: -75%;
                        }
                        .btnSaveCInfoB{
                            width: 100% !important;

                        }
                        .txtIntro{
                            height: 150px;
                        }
                        .btnTool{
                            float: inside;
                        }

                        .textButtonIcon{
                            height: 48px;
                            width: 48px;
                        }
                        .ppOrganizador {
                            height: 192px;
                            width: 96% ;
                            float: inside;
                            margin-left: 5px ;
                            margin-top:  8px;
                        }
                        .inputTag  {
                            width: 95% !important;
                        }
                        .inputNameEvt{
                            width: 90% !important;
                            height: auto !important;
                        }
                        .inputDesc{
                            height: 66px !important;
                            width: 100% !important;
                            width: 96% !important;
                            margin: 4px !important;

                        }
                    }


                    @media only screen and (min-width: 1354px) {
                        .btnSaveResume{
                            right: -91%;
                        }
                        .btnSaveCInfoB{
                            width: 200px !important;
                            float: right;
                        }
                        /*Escritorio y Tablets*/
                        .textButtonIcon{
                            height: 48px;
                            width: 48px;
                        }
                        .inputTag  {
                            width: 99% !important;
                        }
                        .inputNameEvt{
                            width: 98% !important;
                        }

                        .ppOrganizador{
                            height: 192px;
                            width: 200px ;
                            float: right ;
                            margin-right: 7px;
                        }  

                        .inputDesc{
                            margin-right: 150px;
                            margin-left: 8px !important;
                            height: 70% ! important;
                            width: 100% !important;
                        }

                        .btnTool{
                            float: right;
                        }
                        #eventoDescC{
                            /*margin-right: 110px;*/
                        }
                    }


                    .ui-widget-content {
                        background: #ffffff !important;
                    }
                    .ui-selectonemenu .ui-selectonemenu-label {
                        font-size: 18px !important;
                    }
                    .ui-selectonemenu-panel .ui-selectonemenu-item {
                        font-weight: normal;
                        font-size: 18px !important;
                        cursor : pointer;
                    }
                    .ui-inputfield {
                        margin: 0;
                        outline: medium none;
                        padding: 0px !important;
                        font-weight: normal;
                    }

                    .entradalistacol {
                        width:60%;
                        vertical-align: top;
                    }

                    .entradaeditarcol {
                        width: 40%;
                        vertical-align: top;
                    }


                    .ui-g-1, .ui-g-2, .ui-g-3, .ui-g-4, .ui-g-5, .ui-g-6, .ui-g-7, .ui-g-8, .ui-g-9, .ui-g-10, .ui-g-11, .ui-g-12 {
                        float: left;
                        box-sizing: border-box;
                        padding: 0px !important;
                    }

                </style>
                <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
            </ui:define>

        </ui:composition>

    </body>

</html>